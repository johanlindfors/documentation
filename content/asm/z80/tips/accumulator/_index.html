---
type: "manual"
title: "Accumulator"
linkTitle: "Accumulator"
description: "Optimising use of the A register"
---

<h2>Setting the Accumulator to 0</h2>
<p>
    When dealing with loading 0 into the Accumulator, there's several ways to do it.
</p>

{{< book/sourceCode>}}
{{< book/asm op="LD" param="A,0" code="3E00" comment="Traditional way to set A to 0" >}}
{{< book/asm op="XOR" param="A" code="AF" comment="Anything xor itself is 0" >}}
{{< book/asm op="SUB" param="A" code="97" comment="A-A=0" >}}
{{< /book/sourceCode >}}

<p class="mt-3">
    The downside to the above options is that they also affect the flags.
    However, they are only 1 byte long not 2 and are both 3 T-states faster.
</p>

<h2>Comparing A</h2>
<h3>CP 0</h3>
<p>
    Just like setting A to 0 we can compare quicker.
    In this case, instead of <code>CP 0</code> we can just use <code>OR A</code> instead. Just 1 byte and 3 T-states
    faster.
</p>

{{< book/sourceCode>}}
{{< book/asm op="CP" param="0" code="FE00" comment="A-0 will set Z if A is also 0" >}}
{{< book/asm op="OR" param="A" code="B7" comment="Anything or itself is itself but Z is set if A is 0" >}}
{{< /book/sourceCode >}}

<h3 class="mt-3">CP 1</h3>
<p>
    Comparing A to 1 can also be done using <code>DEC A</code> instead of <code>CP 1</code>.
    By decrementing A, the Z flag will be set if A is now 0.
    Like above its faster and 1 byte, but it also alters A, so it's not really of any use unless you don't care about
    the value of A after the test.
</p>
{{< book/sourceCode>}}
{{< book/asm op="CP" param="1" code="FE01" comment="A-1 will set Z if A is also 1" >}}
{{< book/asm op="DEC" param="A" code="3D" comment="A=A-1, Z is set if A is now 0" >}}
{{< /book/sourceCode >}}

<p class="mt-3">
    Internally, <code>CP 1</code> just does A-1 but discards the result which is why <code>DEC A</code> works in this instance.
</p>

<h2>Inverting A</h2>
<p>
    If inverting A, i.e. swapping each bit from 1 to 0 and vis-versa then instead of <code>XOR 0xFF</code> use
    <code>CPL</code> instead. It's both faster, 1 byte and that's all that instruction does.
</p>

{{< book/sourceCode>}}
{{< book/asm op="XOR" param="0xFF" code="EEFF" comment="A=A XOR 0xff" >}}
{{< book/asm op="CPL" code="2F" comment="This instruction does exactly the same thing and nothing else!" >}}
{{< /book/sourceCode >}}
<p class="mt-3">
    The downside is that <code>CPL</code> does not affect the flags whilst <code>XOR</code> does.
</p>