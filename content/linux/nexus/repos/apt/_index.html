---
type: "manual"
title: "APT repository mirrors"
linkTitle: "APT"
description: "How to configure a repository mirror for APT"
---
<div class="printPageBreakAvoid">
    <p>
        <code>APT</code> repository mirrors are easy to configure.
    </p>
    <p>
        Here we will create a repository for the default Debian repository located at
        <code>http://deb.debian.org/debian</code>
    </p>
    <h2>Create blob store</h2>
    <div class="container">
        <div class="row">
            <div class="col-6">
                <p>
                    You only need to do this once per group of repositories.
                </p>
                <p>
                    So for Debian then create a blob store called <code>debian</code>,
                    for Ubuntu then create <code>ubuntu</code> etc.
                    Then for each mirror you create then reuse the same blob store for each group.
                </p>
                <ol>
                    <li>
                        Log in to Nexus and go to the admin page via the <i class="fa fa-cog"></i> icon in
                        the top nav bar.
                    </li>
                    <li>
                        Select blob store, then <strong><i class="fa fa-plus-circle"></i> Create blob store</strong>
                    </li>
                    <li>
                        Under Type select File
                    </li>
                    <li>
                        Under Name enter <code>debian</code>
                    </li>
                    <li>
                        Select <strong>Create blob store</strong> to create it.
                    </li>
                </ol>
            </div>
            <div class="col-5">
                <img src="blank-blob.png" alt="Blank create blob panel"/>
            </div>
        </div>
    </div>

    <h2>Create mirror</h2>
    <div class="container">
        <div class="row">
            <div class="col-6">
                <ol>
                    <li>
                        Log in to Nexus and go to the admin page via the <i class="fa fa-cog"></i> icon in
                        the top nav bar.
                    </li>
                    <li>
                        Select Repositories then the <strong><i class="fa fa-plus-circle"></i> Create
                        Repository</strong>
                    </li>
                    <li>
                        Select <code>apt (proxy)</code> as the repository type.
                    </li>
                    <li>
                        <p>
                            Now fill in the required fields.
                        </p>
                        <p>
                            Here we will use Debian as an example:
                        </p>
                        <ol>
                            <li>
                                For name enter <code>apt-debian</code>
                            </li>
                            <li>
                                For Distribution <code>buster</code>
                                <em>- note this isn't as important as you might think but it is required</em>
                            </li>
                            <li>
                                For Remote storage enter the repository url <code>http://deb.debian.org/debian</code>
                            </li>
                            <li>
                                For Blob store select the one you created earlier,
                                <code>debian</code> if you are following my naming conventions.
                            </li>
                        </ol>
                    </li>
                    <li>
                        Once it's all filled in select <strong>Save</strong> and the Repositories list should now show
                        it.
                    </li>
                </ol>
            </div>
            <div class="col-5">
                <img src="blank-config.png" alt="Blank APT config panel"/>
            </div>
        </div>
    </div>

    <h2>Common repositories to mirror</h2>
    <p>
        The following table lists the repositories mirror covering <code>Debian</code>, <code>Ubuntu</code> and
        <code>Raspberry PI OS</code>:
    </p>
    <table class="memoryMap">
        <thead>
        <tr>
            <th>Distribution</th>
            <th>Name</th>
            <th>Remote storage</th>
            <th>Blob store</th>
            <th>Distribution</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2">Debian</td>
            <td>apt-debian</td>
            <td>http://deb.debian.org/debian</td>
            <td rowspan="2">debian</td>
            <td rowspan="2">buster</td>
        </tr>
        <tr>
            <td>apt-debian-security</td>
            <td>http://security.debian.org/debian-security</td>
        </tr>

        <tr>
            <td rowspan="2">Raspian /<br/>Raspberry PI OS</td>
            <td>apt-raspbian</td>
            <td>http://raspbian.raspberrypi.org/raspbian/</td>
            <td rowspan="2">raspbian</td>
            <td rowspan="2">buster</td>
        </tr>
        <tr>
            <td>apt-raspbian-archive</td>
            <td>http://archive.raspberrypi.org/debian/</td>
        </tr>

        <tr>
            <td rowspan="2">Ubuntu</td>
            <td>apt-ubuntu-archive</td>
            <td>http://gb.archive.ubuntu.com/ubuntu</td>
            <td rowspan="2">ubuntu</td>
            <td rowspan="2">focal</td>
        </tr>
        <tr>
            <td>apt-ubuntu-ports</td>
            <td>http://ports.ubuntu.com/ubuntu-ports</td>
        </tr>
        </tbody>
    </table>
    <div class="alert-info">
        For ubuntu my <code>apt-ubuntu-archive</code> proxy goes to <code>gb.archive.ubuntu.com</code> as I'm in the UK.
        If you are using a different endpoint due to being elsewhere in the world you should be using the same one
        instead of the GB one.
    </div>
    <h2>Using the mirror</h2>
    <p>
        Once you have configured your repositories, you can then proceed to configure your machines to use them.
        This is described in the <a href="../../using/">Using Repository mirrors</a> section.
    </p>
</div>
